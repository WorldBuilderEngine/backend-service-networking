apiVersion: v1
kind: ConfigMap
metadata:
  name: backend-service-networking-registry
  namespace: infrastructure
data:
  registry.json: |
    {
      "version": "2026-02-21",
      "services": [
        {
          "service_name": "backend-discovery-home",
          "base_url": "http://backend-discovery-home.discovery.svc.cluster.local:8790",
          "api_contracts": [
            "worldbuilder.discovery.home_feed.v1"
          ]
        },
        {
          "service_name": "backend-data-center",
          "base_url": "http://backend-data-center.infrastructure.svc.cluster.local:8790",
          "api_contracts": [
            "worldbuilder.discovery.catalog.v1",
            "worldbuilder.discovery.detail.v1",
            "worldbuilder.discovery.schema.v1",
            "worldbuilder.discovery.play-session.get.v1",
            "worldbuilder.discovery.publish.create.v1"
          ]
        },
        {
          "service_name": "backend-auth",
          "base_url": "http://backend-auth.infrastructure.svc.cluster.local:8791",
          "api_contracts": [
            "worldbuilder.auth.register.v1",
            "worldbuilder.auth.login.v1",
            "worldbuilder.auth.refresh.v1",
            "worldbuilder.auth.guest-upgrade.v1"
          ]
        },
        {
          "service_name": "backend-accounts",
          "base_url": "http://backend-accounts.infrastructure.svc.cluster.local:8787",
          "api_contracts": [
            "worldbuilder.accounts.internal-bootstrap.v1",
            "worldbuilder.accounts.get-by-id.v1",
            "worldbuilder.accounts.get-by-identity.v1",
            "worldbuilder.accounts.update.v1"
          ]
        },
        {
          "service_name": "backend-identity",
          "base_url": "http://backend-identity.infrastructure.svc.cluster.local:8786",
          "api_contracts": [
            "worldbuilder.identity.profile.upsert.v1",
            "worldbuilder.identity.profile.get.v1",
            "worldbuilder.identity.policy-evaluation.v1"
          ]
        }
      ]
    }
